!function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return i(n?n:t)},l,l.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){function r(t,e,n){var r=n.positions.map(function(t){var n=e.project(t);return n[1]=g.shape[1]-n[1],n});t.beginPath(),o(t,r,n.cells),t.stroke()}function i(){f.addEventListener("touchstart",function(t){t.preventDefault()})}var o=t("draw-triangles-2d"),s=t("canvas-loop"),a=t("primitive-torus"),c=t("./confetti-mesh"),u=t("clamp"),l=["hsl(80, 50%, 50%)","hsl(380, 50%, 50%)","hsl(180, 50%, 50%)"],f=document.querySelector(".canvas");f||(f=document.body.appendChild(document.createElement("canvas")));var p=f.getContext("2d",{alpha:!1});f.oncontextmenu=function(){return!1};var v=[a({majorRadius:.3,minorRadius:.05,majorSegments:4,minorSegments:3}),c(25,.5),c(15,.75)],h=t("perspective-camera")({fov:50*Math.PI/180,position:[0,0,1],near:1e-5,far:100}),d=t("../")({position:h.position,element:f,distanceBounds:[1,100],distance:1.5});i();var g=s(f,{scale:window.devicePixelRatio}).start();g.on("tick",function(){var t=g.shape[0],e=g.shape[1];d.update(),d.copyInto(h.position,h.direction,h.up);var n=[0,0,t,e];h.viewport=n,h.update(),p.save(),p.scale(g.scale,g.scale),p.fillStyle="#1B1B23",p.fillRect(0,0,t,e),p.lineCap="round",p.lineJoin="round",p.lineWidth=u(1.5/d.distance,.25,2),v.forEach(function(t,e){p.strokeStyle=l[e%l.length],r(p,h,t)}),p.restore()})},{"../":3,"./confetti-mesh":2,"canvas-loop":7,clamp:15,"draw-triangles-2d":17,"perspective-camera":38,"primitive-torus":58}],2:[function(t,e,n){function r(t,e){t="number"==typeof t?t:10,e="number"==typeof e?e:.5;for(var n=[],r=[],s=[0,0,0],a=.025,c=0,u=0;t>c;c++){var l=[u++,u++,u++];n.push(l),i(s,e);for(var f=0;3>f;f++){var p=i([],a);o(p,p,s),r.push(p)}}return{cells:n,positions:r}}var i=t("gl-vec3/random"),o=t("gl-vec3/add");e.exports=r},{"gl-vec3/add":21,"gl-vec3/random":27}],3:[function(t,e,n){function r(t){function e(t,e){var n=2*Math.PI;m[0]-=n*t*x.rotateSpeed,m[1]-=n*e*x.rotateSpeed}function n(t){m[2]+=t*x.zoomSpeed}function r(t){m[2]-=t*x.pinchSpeed}function h(){var t=x.up||f;c(y,t,f),u(b,y);var e=x.distance;l.subtract(w,x.position,x.target),l.transformQuat(w,w,y);var n=Math.atan2(w[0],w[2]),r=Math.atan2(Math.sqrt(w[0]*w[0]+w[2]*w[2]),w[1]);n+=m[0],r+=m[1],n=s(n,x.thetaBounds[0],x.thetaBounds[1]),r=s(r,x.phiBounds[0],x.phiBounds[1]),r=s(r,p,Math.PI-p),e+=m[2],e=s(e,x.distanceBounds[0],x.distanceBounds[1]);var o=Math.abs(e)<=p?p:e;w[0]=o*Math.sin(r)*Math.sin(n),w[1]=o*Math.cos(r),w[2]=o*Math.sin(r)*Math.cos(n),x.phi=r,x.theta=n,x.distance=e,l.transformQuat(w,w,b),l.add(x.position,x.target,w),i(x.direction,t,x.position,x.target);for(var a="number"==typeof x.damping?x.damping:1,v=0;v<m.length;v++)m[v]*=1-a}function d(t,e,n){t&&l.copy(t,x.position),e&&l.copy(e,x.direction),n&&l.copy(n,x.up)}function g(){var t=Math.max(p,x.distance);x.position[0]=t*Math.sin(x.phi)*Math.sin(x.theta),x.position[1]=t*Math.cos(x.phi),x.position[2]=t*Math.sin(x.phi)*Math.cos(x.theta),l.add(x.position,x.position,x.target)}t=t||{};var m=[0,0,0],w=[0,0,0],y=[0,0,0,1],b=y.slice(),x={update:h,copyInto:d,position:t.position?t.position.slice():[0,0,1],direction:[0,0,-1],up:t.up?t.up.slice():[0,1,0],target:t.target?t.target.slice():[0,0,0],phi:t.phi||Math.PI/2,theta:t.theta||0,distance:o(t.distance,1),damping:o(t.damping,.25),rotateSpeed:o(t.rotateSpeed,.28),zoomSpeed:o(t.zoomSpeed,.0075),pinchSpeed:o(t.pinchSpeed,.0075),pinch:t.pinching!==!1,zoom:t.zoom!==!1,rotate:t.rotate!==!1,phiBounds:t.phiBounds||[0,Math.PI],thetaBounds:t.thetaBounds||[-(1/0),1/0],distanceBounds:t.distanceBounds||[0,1/0]};return"number"!=typeof t.distance&&(l.subtract(v,x.position,x.target),x.distance=l.length(v)),g(),a({parent:t.parent||window,element:t.element,rotate:t.rotate!==!1?e:null,zoom:t.zoom!==!1?n:null,pinch:t.pinch!==!1?r:null}),x}function i(t,e,n,r){l.copy(t,r),l.subtract(t,t,n),l.normalize(t,t)}var o=t("defined"),s=t("clamp"),a=t("./lib/input"),c=t("quat-from-unit-vec3"),u=t("gl-quat/invert"),l={length:t("gl-vec3/length"),add:t("gl-vec3/add"),subtract:t("gl-vec3/subtract"),transformQuat:t("gl-vec3/transformQuat"),copy:t("gl-vec3/copy"),normalize:t("gl-vec3/normalize"),cross:t("gl-vec3/cross")},f=[0,1,0],p=1e-10,v=[0,0,0];e.exports=r},{"./lib/input":4,clamp:15,defined:16,"gl-quat/invert":18,"gl-vec3/add":21,"gl-vec3/copy":22,"gl-vec3/cross":23,"gl-vec3/length":25,"gl-vec3/normalize":26,"gl-vec3/subtract":32,"gl-vec3/transformQuat":33,"quat-from-unit-vec3":59}],4:[function(t,e,n){function r(t){function e(t){t.preventDefault()}function n(){h.addEventListener("touchmove",function(t){if(m&&!r())for(var e=0;e<t.changedTouches.length;e++){var n=t.changedTouches[e],i=v.indexOfTouch(n),o=M?-1!==i:0===i;if(o){l(n);break}}}),v.on("place",function(t,e){if(m=!r()){var n=e||t;c(n)}}),v.on("lift",function(t,e){m=!r(),m&&e&&o(e,h,g)})}function r(){return v.pinching&&M}function a(){v.on("change",function(t,e){M(t-e)})}function c(t){o(t,h,g),f(g)&&(m=!0)}function u(){m=!1}function l(t){var e=o(t,h,w);if(v&&r())return void(g=e);if(m){var n=p(y),i=(e[0]-g[0])/n[0],s=(e[1]-g[1])/n[1];x(i,s),g[0]=e[0],g[1]=e[1]}}function f(t){if(h===window||h===document||h===document.body)return!0;var e=h.getBoundingClientRect();return t[0]>=0&&t[1]>=0&&t[0]<e.width&&t[1]<e.height}function p(t){var e=h;return(e===window||e===document||e===document.body)&&(e=document.documentElement),t[0]=e.clientWidth,t[1]=e.clientHeight,t}var v,h=t.element||window,d=t.parent||h,g=[0,0],m=!1,w=[0,0],y=[0,0],b=t.zoom,x=t.rotate,M=t.pinch;b&&i(h,function(t,e){b(e)},!0),x&&(d.addEventListener("mousedown",c),d.addEventListener("mousemove",l),d.addEventListener("mouseup",u)),(x||M)&&(v=s(h),h.addEventListener("touchstart",e),x&&n(),M&&a())}var i=t("mouse-wheel"),o=t("mouse-event-offset"),s=t("touch-pinch");e.exports=r},{"mouse-event-offset":34,"mouse-wheel":37,"touch-pinch":60}],5:[function(t,e,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function o(t){return"number"==typeof t}function s(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!o(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,o,c,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],a(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(s(n))for(o=Array.prototype.slice.call(arguments,1),u=n.slice(),r=u.length,c=0;r>c;c++)u[c].apply(this,o);return!0},r.prototype.addListener=function(t,e){var n;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned&&(n=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},r.prototype.removeListener=function(t,e){var n,r,o,a;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],o=n.length,r=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(n)){for(a=o;a-->0;)if(n[a]===e||n[a].listener&&n[a].listener===e){r=a;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],i(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},{}],6:[function(t,e,n){function r(){l=!1,a.length?u=a.concat(u):f=-1,u.length&&i()}function i(){if(!l){var t=setTimeout(r);l=!0;for(var e=u.length;e;){for(a=u,u=[];++f<e;)a&&a[f].run();f=-1,e=u.length}a=null,l=!1,clearTimeout(t)}}function o(t,e){this.fun=t,this.array=e}function s(){}var a,c=e.exports={},u=[],l=!1,f=-1;c.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new o(t,e)),1!==u.length||l||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=s,c.addListener=s,c.once=s,c.off=s,c.removeListener=s,c.removeAllListeners=s,c.emit=s,c.binding=function(t){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(t){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],7:[function(t,e,n){function r(){var t=document.documentElement;return[t.clientWidth,t.clientHeight]}var i=t("canvas-fit"),o=t("raf-loop");e.exports=function(t,e){function n(){a();var e=t.width,n=t.height;u[0]=e/a.scale,u[1]=n/a.scale}if(!t)throw new TypeError("must specify a canvas element");e=e||{};var s=e.parent||r,a=i(t,s,e.scale),c=o(),u=[0,0];return n(),window.addEventListener("resize",function(){n(),c.emit("resize")},!1),Object.defineProperties(c,{scale:{get:function(){return a.scale},set:function(t){a.scale=t}},shape:{get:function(){return u}},parent:{get:function(){return a.parent},set:function(t){a.parent=t}}}),c}},{"canvas-fit":8,"raf-loop":10}],8:[function(t,e,n){function r(t,e,n){function r(){var e=r.parent||t.parentNode;if("function"==typeof e)var n=e(o)||o,a=n[0],c=n[1];else if(e&&e!==document.body)var u=i(e),a=0|u[0],c=0|u[1];else var a=window.innerWidth,c=window.innerHeight;return s?(t.setAttribute("width",a*r.scale+"px"),t.setAttribute("height",c*r.scale+"px")):(t.width=a*r.scale,t.height=c*r.scale),t.style.width=a+"px",t.style.height=c+"px",r}var s="SVG"===t.nodeName.toUpperCase();return t.style.position=t.style.position||"absolute",t.style.top=0,t.style.left=0,r.scale=parseFloat(n||1),r.parent=e,r()}var i=t("element-size");e.exports=r;var o=new Float32Array(2)},{"element-size":9}],9:[function(t,e,n){function r(t){if(t===window||t===document.body)return[window.innerWidth,window.innerHeight];if(!t.parentNode){var e=!0;document.body.appendChild(t)}var n=t.getBoundingClientRect(),r=getComputedStyle(t),o=(0|n.height)+i(r.getPropertyValue("margin-top"))+i(r.getPropertyValue("margin-bottom")),s=(0|n.width)+i(r.getPropertyValue("margin-left"))+i(r.getPropertyValue("margin-right"));return e&&document.body.removeChild(t),[s,o]}function i(t){return parseFloat(t)||0}e.exports=r},{}],10:[function(t,e,n){function r(t){return this instanceof r?(this.running=!1,this.last=s(),this._frame=0,this._tick=this.tick.bind(this),void(t&&this.on("tick",t))):new r(t)}var i=t("inherits"),o=t("events").EventEmitter,s=t("right-now"),a=t("raf");e.exports=r,i(r,o),r.prototype.start=function(){return this.running?void 0:(this.running=!0,this.last=s(),this._frame=a(this._tick),this)},r.prototype.stop=function(){return this.running=!1,0!==this._frame&&a.cancel(this._frame),this._frame=0,this},r.prototype.tick=function(){this._frame=a(this._tick);var t=s(),e=t-this.last;this.emit("tick",e),this.last=t}},{events:5,inherits:11,raf:12,"right-now":14}],11:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],12:[function(t,e,n){for(var r=t("performance-now"),i="undefined"==typeof window?{}:window,o=["moz","webkit"],s="AnimationFrame",a=i["request"+s],c=i["cancel"+s]||i["cancelRequest"+s],u=0;u<o.length&&!a;u++)a=i[o[u]+"Request"+s],c=i[o[u]+"Cancel"+s]||i[o[u]+"CancelRequest"+s];if(!a||!c){var l=0,f=0,p=[],v=1e3/60;a=function(t){if(0===p.length){var e=r(),n=Math.max(0,v-(e-l));l=n+e,setTimeout(function(){var t=p.slice(0);p.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(l)}catch(n){setTimeout(function(){throw n},0)}},Math.round(n))}return p.push({handle:++f,callback:t,cancelled:!1}),f},c=function(t){for(var e=0;e<p.length;e++)p[e].handle===t&&(p[e].cancelled=!0)}}e.exports=function(t){return a.call(i,t)},e.exports.cancel=function(){c.apply(i,arguments)}},{"performance-now":13}],13:[function(t,e,n){(function(t){(function(){var n,r,i;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-i)/1e6},r=t.hrtime,n=function(){var t;return t=r(),1e9*t[0]+t[1]},i=n()):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this,t("_process"))},{_process:6}],14:[function(t,e,n){(function(t){e.exports=t.performance&&t.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(t,e,n){function r(t,e,n){return n>e?e>t?e:t>n?n:t:n>t?n:t>e?e:t}e.exports=r},{}],16:[function(t,e,n){e.exports=function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]}},{}],17:[function(t,e,n){e.exports=function(t,e,n,r,i){var o=e;for(r=0|r,i="number"==typeof i?0|i:n.length;i>r&&r<n.length;r++){var s=n[r],a=o[s[0]],c=o[s[1]],u=o[s[2]];t.moveTo(a[0],a[1]),t.lineTo(c[0],c[1]),t.lineTo(u[0],u[1]),t.lineTo(a[0],a[1])}}},{}],18:[function(t,e,n){function r(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=n*n+r*r+i*i+o*o,a=s?1/s:0;return t[0]=-n*a,t[1]=-r*a,t[2]=-i*a,t[3]=o*a,t}e.exports=r},{}],19:[function(t,e,n){function r(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=n*n+r*r+i*i+o*o;return s>0&&(s=1/Math.sqrt(s),t[0]=n*s,t[1]=r*s,t[2]=i*s,t[3]=o*s),t}e.exports=r},{}],20:[function(t,e,n){e.exports=t("gl-vec4/normalize")},{"gl-vec4/normalize":19}],21:[function(t,e,n){function r(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t}e.exports=r},{}],22:[function(t,e,n){function r(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}e.exports=r},{}],23:[function(t,e,n){function r(t,e,n){var r=e[0],i=e[1],o=e[2],s=n[0],a=n[1],c=n[2];return t[0]=i*c-o*a,t[1]=o*s-r*c,t[2]=r*a-i*s,t}e.exports=r},{}],24:[function(t,e,n){function r(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}e.exports=r},{}],25:[function(t,e,n){function r(t){var e=t[0],n=t[1],r=t[2];return Math.sqrt(e*e+n*n+r*r)}e.exports=r},{}],26:[function(t,e,n){function r(t,e){var n=e[0],r=e[1],i=e[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t}e.exports=r},{}],27:[function(t,e,n){function r(t,e){e=e||1;var n=2*Math.random()*Math.PI,r=2*Math.random()-1,i=Math.sqrt(1-r*r)*e;return t[0]=Math.cos(n)*i,t[1]=Math.sin(n)*i,t[2]=r*e,t}e.exports=r},{}],28:[function(t,e,n){function r(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}e.exports=r},{}],29:[function(t,e,n){function r(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t}e.exports=r},{}],30:[function(t,e,n){function r(t,e,n,r){return t[0]=e,t[1]=n,t[2]=r,t}e.exports=r},{}],31:[function(t,e,n){function r(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=e[2]-t[2];return n*n+r*r+i*i}e.exports=r},{}],32:[function(t,e,n){function r(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t}e.exports=r},{}],33:[function(t,e,n){function r(t,e,n){var r=e[0],i=e[1],o=e[2],s=n[0],a=n[1],c=n[2],u=n[3],l=u*r+a*o-c*i,f=u*i+c*r-s*o,p=u*o+s*i-a*r,v=-s*r-a*i-c*o;return t[0]=l*u+v*-s+f*-c-p*-a,t[1]=f*u+v*-a+p*-s-l*-c,t[2]=p*u+v*-c+l*-a-f*-s,t}e.exports=r},{}],34:[function(t,e,n){function r(t,e,n){e=e||t.currentTarget||t.srcElement,Array.isArray(n)||(n=[0,0]);var r=t.clientX||0,o=t.clientY||0,s=i(e);return n[0]=r-s.left,n[1]=o-s.top,n}function i(t){return t===window||t===document||t===document.body?o:t.getBoundingClientRect()}var o={left:0,top:0};e.exports=r},{}],35:[function(t,e,n){e.exports=function(t,e){e||(e=[0,""]),t=String(t);var n=parseFloat(t,10);return e[0]=n,e[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",e}},{}],36:[function(t,e,n){"use strict";function r(t,e){var n=s(getComputedStyle(t).getPropertyValue(e));return n[0]*o(n[1],t)}function i(t,e){var n=document.createElement("div");n.style["font-size"]="128"+t,e.appendChild(n);var i=r(n,"font-size")/128;return e.removeChild(n),i}function o(t,e){switch(e=e||document.body,t=(t||"px").trim().toLowerCase(),(e===window||e===document)&&(e=document.body),t){case"%":return e.clientHeight/100;case"ch":case"ex":return i(t,e);case"em":return r(e,"font-size");case"rem":return r(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return a;case"cm":return a/2.54;case"mm":return a/25.4;case"pt":return a/72;case"pc":return a/6}return 1}var s=t("parse-unit");e.exports=o;var a=96},{"parse-unit":35}],37:[function(t,e,n){"use strict";function r(t,e,n){"function"==typeof t&&(n=!!e,e=t,t=window);var r=i("ex",t);t.addEventListener("wheel",function(t){n&&t.preventDefault();var i=t.deltaX||0,o=t.deltaY||0,s=t.deltaZ||0,a=t.deltaMode,c=1;switch(a){case 1:c=r;break;case 2:c=window.innerHeight}return i*=c,o*=c,s*=c,i||o||s?e(i,o,s):void 0})}var i=t("to-px");e.exports=r},{"to-px":36}],38:[function(t,e,n){e.exports=t("./lib/camera-perspective")},{"./lib/camera-perspective":41}],39:[function(t,e,n){var r=t("object-assign"),i=t("ray-3d"),o=t("camera-project"),s=t("camera-unproject"),a=t("./camera-look-at"),c=t("camera-picking-ray"),u=t("gl-vec3/add"),l=t("gl-mat4/multiply"),f=t("gl-mat4/invert"),p=t("gl-mat4/identity"),v=t("gl-vec3/set");e.exports=function(t){function e(){l(y.projView,y.projection,y.view);var t=f(y.invProjView,y.projView);if(!t)throw new Error("camera projection * view is non-invertible")}function n(t){return a(y.direction,y.up,y.position,t),y}function h(){return v(y.position,0,0,0),v(y.direction,0,0,-1),v(y.up,0,1,0),p(y.view),p(y.projection),p(y.projView),p(y.invProjView),y}function d(t){return u(y.position,y.position,t),y}function g(t){var e=new i;return c(e.origin,e.direction,t,y.viewport,y.invProjView),e}function m(t){return o([],t,y.viewport,y.projView)}function w(t){return s([],t,y.viewport,y.invProjView)}t=t||{};var y={projection:p([]),view:p([]),position:t.position||[0,0,0],direction:t.direction||[0,0,-1],up:t.up||[0,1,0],viewport:t.viewport||[-1,-1,1,1],projView:p([]),invProjView:p([])};return r(y,{translate:d,identity:h,lookAt:n,createPickingRay:g,update:e,project:m,unproject:w})}},{"./camera-look-at":40,"camera-picking-ray":42,"camera-project":43,"camera-unproject":46,"gl-mat4/identity":48,"gl-mat4/invert":49,"gl-mat4/multiply":51,"gl-vec3/add":21,"gl-vec3/set":30,"object-assign":53,"ray-3d":54}],40:[function(t,e,n){var r=t("gl-vec3/cross"),i=t("gl-vec3/subtract"),o=t("gl-vec3/normalize"),s=t("gl-vec3/copy"),a=t("gl-vec3/dot"),c=t("gl-vec3/scale"),u=[0,0,0],l=1e-9;e.exports=function(t,e,n,f){i(u,f,n),o(u,u);var p=0===u[0]&&0===u[1]&&0===u[2];if(!p){var v=a(u,e);Math.abs(v-1)<l?c(e,t,-1):Math.abs(v+1)<l&&s(e,t),s(t,u),r(u,t,e),o(u,u),r(e,u,t),o(e,e)}}},{"gl-vec3/copy":22,"gl-vec3/cross":23,"gl-vec3/dot":24,"gl-vec3/normalize":26,"gl-vec3/scale":28,"gl-vec3/subtract":32}],41:[function(t,e,n){var r=t("./camera-base"),i=t("object-assign"),o=t("defined"),s=t("gl-mat4/perspective"),a=t("gl-mat4/lookAt"),c=t("gl-vec3/add");e.exports=function(t){function e(){var t=n.viewport[2]/n.viewport[3];return s(n.projection,n.fov,t,Math.abs(n.near),Math.abs(n.far)),c(u,n.position,n.direction),a(n.view,n.position,u,n.up),l(),n}t=t||{};var n=r(t);n.fov=o(t.fov,Math.PI/4),n.near=o(t.near,1),n.far=o(t.far,100);var u=[0,0,0],l=n.update;return e(),i(n,{update:e})}},{"./camera-base":39,defined:16,"gl-mat4/lookAt":50,"gl-mat4/perspective":52,"gl-vec3/add":21,"object-assign":53}],42:[function(t,e,n){function r(t,e,n,r,c){o(t,n[0],n[1],0),o(e,n[0],n[1],1),i(t,t,r,c),i(e,e,r,c),s(e,e,t),a(e,e)}var i=t("camera-unproject"),o=t("gl-vec3/set"),s=t("gl-vec3/subtract"),a=t("gl-vec3/normalize");e.exports=r},{"camera-unproject":46,"gl-vec3/normalize":26,"gl-vec3/set":30,"gl-vec3/subtract":32}],43:[function(t,e,n){function r(t,e,n,r){var u=n[0],l=n[1],f=n[2],p=n[3],v=s,h=a;o(c,e[0],e[1],e[2],1),i(c,c,r);var d=c[3];return 0!==d&&(c[0]=c[0]/d,c[1]=c[1]/d,c[2]=c[2]/d),t[0]=u+f/2*c[0]+(0+f/2),t[1]=l+p/2*c[1]+(0+p/2),t[2]=(h-v)/2*c[2]+(h+v)/2,t[3]=0===d?0:1/d,t}var i=t("gl-vec4/transformMat4"),o=t("gl-vec4/set"),s=0,a=1,c=[0,0,0,0];e.exports=r},{"gl-vec4/set":44,"gl-vec4/transformMat4":45}],44:[function(t,e,n){function r(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}e.exports=r},{}],45:[function(t,e,n){function r(t,e,n){var r=e[0],i=e[1],o=e[2],s=e[3];return t[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*s,t[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*s,t[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*s,t[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*s,t}e.exports=r},{}],46:[function(t,e,n){function r(t,e,n,r){var o=n[0],s=n[1],a=n[2],c=n[3],u=e[0],l=e[1],f=e[2];return u-=o,l=c-l-1,l-=s,t[0]=2*u/a-1,t[1]=2*l/c-1,t[2]=2*f-1,i(t,t,r)}var i=t("./lib/projectMat4");e.exports=r},{"./lib/projectMat4":47}],47:[function(t,e,n){function r(t,e,n){var r=e[0],i=e[1],o=e[2],s=n[0],a=n[1],c=n[2],u=n[3],l=n[4],f=n[5],p=n[6],v=n[7],h=n[8],d=n[9],g=n[10],m=n[11],w=n[12],y=n[13],b=n[14],x=n[15],M=1/(r*u+i*v+o*m+x);return t[0]=(r*s+i*l+o*h+w)*M,t[1]=(r*a+i*f+o*d+y)*M,t[2]=(r*c+i*p+o*g+b)*M,t}e.exports=r},{}],48:[function(t,e,n){function r(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}e.exports=r},{}],49:[function(t,e,n){function r(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],c=e[6],u=e[7],l=e[8],f=e[9],p=e[10],v=e[11],h=e[12],d=e[13],g=e[14],m=e[15],w=n*a-r*s,y=n*c-i*s,b=n*u-o*s,x=r*c-i*a,M=r*u-o*a,_=i*u-o*c,L=l*d-f*h,j=l*g-p*h,E=l*m-v*h,T=f*g-p*d,k=f*m-v*d,z=p*m-v*g,q=w*z-y*k+b*T+x*E-M*j+_*L;return q?(q=1/q,t[0]=(a*z-c*k+u*T)*q,t[1]=(i*k-r*z-o*T)*q,t[2]=(d*_-g*M+m*x)*q,t[3]=(p*M-f*_-v*x)*q,t[4]=(c*E-s*z-u*j)*q,t[5]=(n*z-i*E+o*j)*q,t[6]=(g*b-h*_-m*y)*q,t[7]=(l*_-p*b+v*y)*q,t[8]=(s*k-a*E+u*L)*q,t[9]=(r*E-n*k-o*L)*q,t[10]=(h*M-d*b+m*w)*q,t[11]=(f*b-l*M-v*w)*q,t[12]=(a*j-s*T-c*L)*q,t[13]=(n*T-r*j+i*L)*q,t[14]=(d*y-h*x-g*w)*q,t[15]=(l*x-f*y+p*w)*q,t):null}e.exports=r},{}],50:[function(t,e,n){function r(t,e,n,r){var o,s,a,c,u,l,f,p,v,h,d=e[0],g=e[1],m=e[2],w=r[0],y=r[1],b=r[2],x=n[0],M=n[1],_=n[2];return Math.abs(d-x)<1e-6&&Math.abs(g-M)<1e-6&&Math.abs(m-_)<1e-6?i(t):(f=d-x,p=g-M,v=m-_,h=1/Math.sqrt(f*f+p*p+v*v),f*=h,p*=h,v*=h,o=y*v-b*p,s=b*f-w*v,a=w*p-y*f,h=Math.sqrt(o*o+s*s+a*a),h?(h=1/h,o*=h,s*=h,a*=h):(o=0,s=0,a=0),c=p*a-v*s,u=v*o-f*a,l=f*s-p*o,h=Math.sqrt(c*c+u*u+l*l),h?(h=1/h,c*=h,u*=h,l*=h):(c=0,u=0,l=0),t[0]=o,t[1]=c,t[2]=f,t[3]=0,t[4]=s,t[5]=u,t[6]=p,t[7]=0,t[8]=a,t[9]=l,t[10]=v,t[11]=0,t[12]=-(o*d+s*g+a*m),t[13]=-(c*d+u*g+l*m),t[14]=-(f*d+p*g+v*m),t[15]=1,t)}var i=t("./identity");e.exports=r},{"./identity":48}],51:[function(t,e,n){function r(t,e,n){var r=e[0],i=e[1],o=e[2],s=e[3],a=e[4],c=e[5],u=e[6],l=e[7],f=e[8],p=e[9],v=e[10],h=e[11],d=e[12],g=e[13],m=e[14],w=e[15],y=n[0],b=n[1],x=n[2],M=n[3];return t[0]=y*r+b*a+x*f+M*d,t[1]=y*i+b*c+x*p+M*g,t[2]=y*o+b*u+x*v+M*m,t[3]=y*s+b*l+x*h+M*w,y=n[4],b=n[5],x=n[6],M=n[7],t[4]=y*r+b*a+x*f+M*d,t[5]=y*i+b*c+x*p+M*g,t[6]=y*o+b*u+x*v+M*m,t[7]=y*s+b*l+x*h+M*w,y=n[8],b=n[9],x=n[10],M=n[11],t[8]=y*r+b*a+x*f+M*d,t[9]=y*i+b*c+x*p+M*g,t[10]=y*o+b*u+x*v+M*m,t[11]=y*s+b*l+x*h+M*w,y=n[12],b=n[13],x=n[14],M=n[15],t[12]=y*r+b*a+x*f+M*d,t[13]=y*i+b*c+x*p+M*g,t[14]=y*o+b*u+x*v+M*m,t[15]=y*s+b*l+x*h+M*w,t}e.exports=r},{}],52:[function(t,e,n){function r(t,e,n,r,i){var o=1/Math.tan(e/2),s=1/(r-i);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+r)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*r*s,t[15]=0,t}e.exports=r},{}],53:[function(t,e,n){"use strict";function r(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}e.exports=Object.assign||function(t,e){for(var n,i,o=r(t),s=1;s<arguments.length;s++){n=arguments[s],i=Object.keys(Object(n));for(var a=0;a<i.length;a++)o[i[a]]=n[i[a]]}return o}},{}],54:[function(t,e,n){function r(t,e){this.origin=t||[0,0,0],this.direction=e||[0,0,-1]}var i=t("ray-triangle-intersection"),o=t("ray-plane-intersection"),s=t("ray-sphere-intersection"),a=t("gl-vec3/copy"),c=[[0,0,0],[0,0,0],[0,0,0]],u=[0,0,0];e.exports=r,r.prototype.set=function(t,e){this.origin=t,this.direction=e},r.prototype.copy=function(t){a(this.origin,t.origin),a(this.direction,t.direction)},r.prototype.clone=function(){var t=new r;return t.copy(this),t},r.prototype.intersectsSphere=function(t,e){return s(u,this.origin,this.direction,t,e)},r.prototype.intersectsPlane=function(t,e){return o(u,this.origin,this.direction,t,e)},r.prototype.intersectsTriangle=function(t){return i(u,this.origin,this.direction,t)},r.prototype.intersectsTriangleCell=function(t,e){var n=t[0],r=t[1],i=t[2];return c[0]=e[n],c[1]=e[r],c[2]=e[i],this.intersectsTriangle(c)}},{"gl-vec3/copy":22,"ray-plane-intersection":55,"ray-sphere-intersection":56,"ray-triangle-intersection":57}],55:[function(t,e,n){function r(t,e,n,r,u){var l=i(n,r);if(0!==l){var f=-(i(e,r)+u)/l;return 0>f?null:(s(c,n,f),o(t,e,c))}return i(r,e)+u===0?a(t,e):null}var i=t("gl-vec3/dot"),o=t("gl-vec3/add"),s=t("gl-vec3/scale"),a=t("gl-vec3/copy");e.exports=r;var c=[0,0,0]},{"gl-vec3/add":21,"gl-vec3/copy":22,"gl-vec3/dot":24,"gl-vec3/scale":28}],56:[function(t,e,n){function r(t,e,n,r,f){s(l,r,e);var p=o(n,l);if(0>p)return null;a(l,e,n,p);var v=i(r,l),h=f*f;return v>h?null:(c(t,n,p-Math.sqrt(h-v)),u(t,t,e))}var i=t("gl-vec3/squaredDistance"),o=t("gl-vec3/dot"),s=t("gl-vec3/subtract"),a=t("gl-vec3/scaleAndAdd"),c=t("gl-vec3/scale"),u=t("gl-vec3/add"),l=[0,0,0];e.exports=r},{"gl-vec3/add":21,"gl-vec3/dot":24,"gl-vec3/scale":28,"gl-vec3/scaleAndAdd":29,"gl-vec3/squaredDistance":31,"gl-vec3/subtract":32}],57:[function(t,e,n){function r(t,e,n,r){s(c,r[1],r[0]),s(u,r[2],r[0]),i(f,n,u);var v=o(c,f);if(a>v)return null;s(l,e,r[0]);var h=o(l,f);if(0>h||h>v)return null;i(p,l,c);var d=o(n,p);if(0>d||h+d>v)return null;var g=o(u,p)/v;return t[0]=e[0]+g*n[0],t[1]=e[1]+g*n[1],t[2]=e[2]+g*n[2],t}var i=t("gl-vec3/cross"),o=t("gl-vec3/dot"),s=t("gl-vec3/subtract"),a=1e-6,c=[0,0,0],u=[0,0,0],l=[0,0,0],f=[0,0,0],p=[0,0,0];e.exports=r},{"gl-vec3/cross":23,"gl-vec3/dot":24,"gl-vec3/subtract":32}],58:[function(t,e,n){function r(t){t=t||{};for(var e=i(t.majorRadius,1),n=i(t.minorRadius,.25),r=i(t.minorSegments,32),a=i(t.majorSegments,64),c=i(t.arc,2*Math.PI),u=2*Math.PI,l=[0,0,0],f=[],p=[],v=[],h=[0,0,0],d=[],g=0;r>=g;g++)for(var m=0;a>=m;m++){var w=m/a*c,y=g/r*u;l[0]=e*Math.cos(w),l[1]=e*Math.sin(w);var b=[(e+n*Math.cos(y))*Math.cos(w),(e+n*Math.cos(y))*Math.sin(w),n*Math.sin(y)];p.push(b),o(h,b,l),s(h,h),d.push(h.slice()),f.push([m/a,g/r])}for(var g=1;r>=g;g++)for(var m=1;a>=m;m++){var x=(a+1)*g+m-1,M=(a+1)*(g-1)+m-1,_=(a+1)*(g-1)+m,L=(a+1)*g+m;v.push([x,M,L]),v.push([M,_,L])}return{uvs:f,cells:v,normals:d,positions:p}}var i=t("defined"),o=t("gl-vec3/subtract"),s=t("gl-vec3/normalize");e.exports=r},{defined:16,"gl-vec3/normalize":26,"gl-vec3/subtract":32}],59:[function(t,e,n){function r(t,e,n){var r=i(e,n)+1;return u>r?(r=0,Math.abs(e[0])>Math.abs(e[2])?o(c,-e[1],e[0],0):o(c,0,-e[2],e[1])):a(c,e,n),t[0]=c[0],t[1]=c[1],t[2]=c[2],t[3]=r,s(t,t),t}var i=t("gl-vec3/dot"),o=t("gl-vec3/set"),s=t("gl-quat/normalize"),a=t("gl-vec3/cross"),c=[0,0,0],u=1e-6;e.exports=r},{"gl-quat/normalize":20,"gl-vec3/cross":23,"gl-vec3/dot":24,"gl-vec3/set":30}],60:[function(t,e,n){function r(t){function e(t){for(var e=t.identifier,n=0;n<h.length;n++)if(h[n]&&h[n].touch&&h[n].touch.identifier===e)return n;return-1}function n(){w||(w=!0,t.addEventListener("touchstart",u,!1),t.addEventListener("touchmove",l,!1),t.addEventListener("touchend",f,!1),t.addEventListener("touchcancel",f,!1))}function r(){w&&(w=!1,t.removeEventListener("touchstart",u,!1),t.removeEventListener("touchmove",l,!1),t.removeEventListener("touchend",f,!1),t.removeEventListener("touchcancel",f,!1))}function u(n){for(var r=0;r<n.changedTouches.length;r++){var o=n.changedTouches[r],s=o.identifier,a=e(s);if(-1===a&&2>d){var u=0===d,l=h[0]?1:0,f=h[0]?0:1,w=new i;h[l]=w,d++,w.touch=o,c(o,t,w.position);var y=h[f]?h[f].touch:void 0;if(v.emit("place",o,y),!u){var b=p();m=!1,v.emit("start",b),g=b}}}}function l(n){for(var r=!1,i=0;i<n.changedTouches.length;i++){var o=n.changedTouches[i],s=e(o);-1!==s&&(r=!0,h[s].touch=o,c(o,t,h[s].position))}if(2===d&&r){var a=p();v.emit("change",a,g),g=a}}function f(t){for(var n=0;n<t.changedTouches.length;n++){var r=t.changedTouches[n],i=e(r);if(-1!==i){h[i]=null,d--;var o=0===i?1:0,s=h[o]?h[o].touch:void 0;v.emit("lift",r,s)}}m||2===d||(m=!0,v.emit("end"))}function p(){return 2>d?0:o(h[0].position,h[1].position)}t=t||window;var v=new s,h=[null,null],d=0,g=0,m=!1,w=!1;return Object.defineProperties(v,{pinching:a(function(){return 2===d}),fingers:a(function(){return h})}),n(),v.enable=n,v.disable=r,v.indexOfTouch=e,v}function i(){this.position=[0,0],this.touch=null}var o=t("gl-vec2/distance"),s=t("events").EventEmitter,a=t("dprop"),c=t("mouse-event-offset");e.exports=r},{dprop:61,events:5,"gl-vec2/distance":62,"mouse-event-offset":34}],61:[function(t,e,n){function r(t,e){return{configurable:!0,enumerable:!0,get:t,set:e}}e.exports=r},{}],62:[function(t,e,n){function r(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}e.exports=r},{}]},{},[1]);
